#+title: vim备忘

**** 最喜欢的vim命令

| 命令                                      | 解释                                                                 |
|-------------------------------------------+----------------------------------------------------------------------|
| gg=G                                      | 全文缩进                                                             |
| ==                                        | 自动调整当前行                                                       |
| <c-o>                                     | 在插入模式下按<c-o>不用按ESC可以直接生效。<c-o>:w                    |
|-------------------------------------------+----------------------------------------------------------------------|
| 与i有关的命令                             |                                                                      |
| ci"                                       | 改变双引号中的内容                                                   |
| yi)                                       | 复制当前小括号内容                                                   |
| di'                                       | 删除当前单引号的内容                                                 |
| ciw                                       | 删除当前单词，并且进入插入模式                                       |
|-------------------------------------------+----------------------------------------------------------------------|
| %                                         | 跳到匹配到的位置，比如(),{},[],/**/与复制y 删除d,修改c等结合起来更好 |
| gv                                        | 重新选择上一个区域                                                   |
| vip                                       | 快速选择一段，在代码中很方便                                         |
|-------------------------------------------+----------------------------------------------------------------------|
| vimgrep                                   |                                                                      |
| vimgrep "liwei" **/*.c 中间一个竖线 copen | 搜索当前目录下所有的"liwei"                                          |
| %!xxd                                     | 以16进制查看代码                                                            |


**** vim选择

| 快捷命令 | 描述     |
|----------+----------|
| 小写v    | 字符选择 |
| 大写V    | 行选择   |
| ctrl+v   | 矩形选择     |


**** 正则操作


| 字符 | 解释                         |
|------+------------------------------|
| .    | 匹配换行符以外的任意字符     |
| ^    | 匹配字符串的开头位置         |
| *    | 匹配前面的子表达零次或者一次 |
| \s   | 空白字符[\t\r\n\f\v]         |
|      |                              |

- 删除以数字开头的行：
#+BEGIN_SRC perl

:%s/^\d.*$//g

#+END_SRC

- 删除以a,b,c开头的行
#+BEGIN_SRC perl

:%s/^[a|b|c].*$//g

#+END_SRC

- 替换windows的换行符
#+BEGIN_SRC perl

:%s/<c-v><c-m>//g

#+END_SRC

- 将各行的id字符串替换为行号
#+BEGIN_SRC perl
id 123
id 456
:%s/\<id\>/\=line(".")
#+END_SRC

- 将多个空格替换为1个空格
#+BEGIN_SRC perl

:%s/ */ /g

#+END_SRC

- 删除行尾空格
#+BEGIN_SRC perl

:%s/ *$//g
:%s/^ *//g

#+END_SRC

- 删除所有空白行
#+BEGIN_SRC perl

:g/^\s*$/d

#+END_SRC

- 删除所有出现sbso的行
#+BEGIN_SRC perl

:g/sbso/d

#+END_SRC

- 删除不包括sbso的行
#+BEGIN_SRC perl

:v/sbso/d

#+END_SRC

- 删除重复行
#+BEGIN_SRC perl

:%s/^\(.*\)\n\1$/\1/g

#+END_SRC

- 每行开头加一个空格
#+BEGIN_SRC perl

:%s/^/ /g
:%s/^/#/g
:3,10s/^/#/g

#+END_SRC


